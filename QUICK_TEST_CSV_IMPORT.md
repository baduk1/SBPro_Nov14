# ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç CSV –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **Backend API** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±–µ–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ (`rate` –∏ `price`)
2. **Pydantic Schemas** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–∏–ø `price` —Å `int` –Ω–∞ `float`
3. **Database Model** - `price` —Ç–µ–ø–µ—Ä—å `Float` –≤–º–µ—Å—Ç–æ `Integer`
4. **Frontend Dialog** - —É–ª—É—á—à–µ–Ω —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
5. **Duplicate Handling** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤

## üöÄ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ó–∞–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
```
URL: https://skybuildpro.co.uk/app/signin
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ Suppliers
```
URL: https://skybuildpro.co.uk/app/suppliers
```

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ "sup1"
–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ "sup1" –∏–∑ —Å–ø–∏—Å–∫–∞

### –®–∞–≥ 4: –ù–∞–∂–º–∏—Ç–µ "Import CSV"
–í –¥–∏–∞–ª–æ–≥–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- –ü—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞ CSV
- –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- –ö–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞

### –®–∞–≥ 5: –°–∫–∞—á–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
–í—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª —Å —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ—é—â–∏–π—Å—è:

**–ü—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```
/root/skybuild_o1_production/backend/admin_assets/price_list.csv
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (26 –ø–æ–∑–∏—Ü–∏–π):**
```csv
code,description,unit,rate
E10/100,Walls,m2,44.80
F10/100,Floors,m2,33.70
E20/200,Columns,m3,248.00
E20/300,Beams,m3,232.00
...–∏ —Ç.–¥.
```

### –®–∞–≥ 6: –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª
1. –ù–∞–∂–º–∏—Ç–µ "Choose CSV File"
2. –í—ã–±–µ—Ä–∏—Ç–µ `price_list.csv`
3. –ù–∞–∂–º–∏—Ç–µ "Import"

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
Imported 26 items. Skipped: 0
```

–¢–∞–±–ª–∏—Ü–∞ –ø—Ä–∞–π—Å-–ª–∏—Å—Ç–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∏ –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ 26 –ø–æ–∑–∏—Ü–∏–π.

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

| Code | Description | Unit | Price | Currency |
|------|-------------|------|-------|----------|
| E10/100 | Walls | m2 | 44.80 | GBP |
| F10/100 | Floors | m2 | 33.70 | GBP |
| E20/200 | Columns | m3 | 248.00 | GBP |
| ... | ... | ... | ... | ... |

**–í—Å–µ–≥–æ:** 26 –ø–æ–∑–∏—Ü–∏–π

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

```bash
# –õ–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞
journalctl -u skybuild-backend -n 50 --no-pager

# –°—Ç–∞—Ç—É—Å –±—ç–∫–µ–Ω–¥–∞
systemctl status skybuild-backend

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
sudo systemctl restart skybuild-backend
```

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### –¢–µ—Å—Ç 1: –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∏–º–ø–æ—Ä—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
1. –ò–∑–º–µ–Ω–∏—Ç–µ —Ü–µ–Ω—É –≤ CSV —Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, E10/100 —Å 44.80 –Ω–∞ 50.00)
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–∏–ª–∞—Å—å (–Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å –¥—É–±–ª–∏–∫–∞—Ç)

### –¢–µ—Å—Ç 2: –ò–º–ø–æ—Ä—Ç —Å currency –∫–æ–ª–æ–Ω–∫–æ–π
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª:
```csv
code,description,unit,rate,currency
TEST-001,Test Item,piece,100.00,USD
TEST-002,Test Item 2,m2,75.50,EUR
```

### –¢–µ—Å—Ç 3: –ë–æ–ª—å—à–æ–π —Ñ–∞–π–ª
–°–æ–∑–¥–∞–π—Ç–µ CSV —Å 1000 –ø–æ–∑–∏—Ü–∏—è–º–∏ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∫–æ—Ä–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–∞

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [ ] –î–∏–∞–ª–æ–≥ –∏–º–ø–æ—Ä—Ç–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- [ ] –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å CSV —Ñ–∞–π–ª
- [ ] –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –í—Å–µ 26 –ø–æ–∑–∏—Ü–∏–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
- [ ] –¶–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–∫–∞–∫ decimal, –Ω–µ –∫–∞–∫ integer)
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∏–º–ø–æ—Ä—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã)

‚úÖ **FIXED:** "column supplier_price_items.effective_from does not exist" - –∫–æ–ª–æ–Ω–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞  
‚úÖ **FIXED:** "Input should be a valid integer, got a number with a fractional part" - —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ float  
‚úÖ **FIXED:** CSV —Å –∫–æ–ª–æ–Ω–∫–æ–π 'rate' –Ω–µ —Ä–∞–±–æ—Ç–∞–ª - —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (rate –∏ price)

---

**–°—Ç–∞—Ç—É—Å:** üü¢ –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-27 09:35 UTC


