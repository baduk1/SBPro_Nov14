# üèóÔ∏è SkyBuild Pro - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Production

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-10-26 18:15 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (—Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏)

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Deployment

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         INTERNET                                ‚îÇ
‚îÇ                  https://skybuildpro.co.uk                      ‚îÇ
‚îÇ              https://admin.skybuildpro.co.uk                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ HTTPS (Port 443)
                       ‚îÇ SSL: *.skybuildpro.co.uk
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    NGINX (Reverse Proxy)                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ User Frontend: skybuildpro.co.uk                         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   Static: /var/www/skybuild_user/                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   /api/* ‚Üí http://127.0.0.1:8000                         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Admin Frontend: admin.skybuildpro.co.uk                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   Static: /var/www/skybuild_admin/                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   /api/* ‚Üí http://127.0.0.1:8000                         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ Proxy to localhost:8000
                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              BACKEND API (FastAPI + Uvicorn)                    ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ Process: python -m uvicorn app.main:app                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ PID: 873426                                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Host: 0.0.0.0:8000                                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Started: Oct 25 (via nohup)                               ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Logs: /var/log/skybuild-backend.log                      ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Working Dir: /root/skybuild_o1_production/backend        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ Python: 3.12.3 (in .venv)                                ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                       ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚ñº                              ‚ñº                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PostgreSQL   ‚îÇ           ‚îÇ  File Storage    ‚îÇ   ‚îÇ   SendGrid     ‚îÇ
‚îÇ   Database    ‚îÇ           ‚îÇ  ./storage/      ‚îÇ   ‚îÇ   Email API    ‚îÇ
‚îÇ               ‚îÇ           ‚îÇ  - uploads/      ‚îÇ   ‚îÇ   CONFIGURED   ‚îÇ
‚îÇ  skybuild_pro ‚îÇ           ‚îÇ  - artifacts/    ‚îÇ   ‚îÇ   ‚úÖ Ready     ‚îÇ
‚îÇ  Port: 5432   ‚îÇ           ‚îÇ  - config/       ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. **Frontend Applications**

#### User Frontend (`skybuildpro.co.uk`)
```
Location: /var/www/skybuild_user/
Status: ‚úÖ DEPLOYED & ACCESSIBLE
Last Update: Oct 25, 2025 08:04
Files:
  ‚îú‚îÄ‚îÄ index.html (733 bytes)
  ‚îî‚îÄ‚îÄ assets/ (React production build)
Technology: React 18 + TypeScript + Material-UI v6
Build Tool: Vite
Owner: www-data:www-data
```

#### Admin Frontend (`admin.skybuildpro.co.uk`)
```
Location: /var/www/skybuild_admin/
Status: ‚úÖ DEPLOYED & ACCESSIBLE
Last Update: Oct 25, 2025 08:07
Files:
  ‚îú‚îÄ‚îÄ index.html (750 bytes)
  ‚îî‚îÄ‚îÄ assets/ (React production build)
Technology: React 18 + TypeScript + Material-UI v6
Build Tool: Vite
Owner: www-data:www-data
```

### 2. **Nginx Configuration**

#### Main Config
```nginx
# User App (Port 443, SSL)
server {
    listen 443 ssl http2;
    server_name skybuildpro.co.uk www.skybuildpro.co.uk;
    ssl_certificate /etc/nginx/ssl/skybuildpro.co.uk_ssl_certificate.cer;
    ssl_certificate_key /etc/nginx/ssl/_.skybuildpro.co.uk_private_key.key;
    
    root /var/www/skybuild_user;
    
    # No-cache –¥–ª—è index.html
    location = /index.html {
        add_header Cache-Control "no-store, no-cache, must-revalidate";
    }
    
    # Proxy API requests
    location /api/ {
        proxy_pass http://127.0.0.1:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # Cache static assets (1 year)
    location ~* \.(js|css|png|jpg|ico|svg|woff2)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}

# Admin App (Port 443, SSL)
server {
    listen 443 ssl http2;
    server_name admin.skybuildpro.co.uk;
    # Same SSL certificate
    root /var/www/skybuild_admin;
    # Same proxy config
}

# HTTP ‚Üí HTTPS redirect
server {
    listen 80;
    server_name skybuildpro.co.uk www.skybuildpro.co.uk admin.skybuildpro.co.uk;
    return 301 https://$host$request_uri;
}
```

**Status:** ‚úÖ RUNNING

### 3. **Backend API**

#### Current Process
```bash
Command: python -m uvicorn app.main:app --host 0.0.0.0 --port 8000
PID: 873426
PPID: 873424
User: root
Started: Oct 25, 2025
Uptime: 1+ –¥–µ–Ω—å
Memory: ~168 MB
CPU Time: 1h 51m

Working Directory: /root/skybuild_o1_production/backend
Virtual Env: .venv (Python 3.12.3)
Environment File: .env (loaded)

Listen Address: 0.0.0.0:8000
Actual Connections: Accepts from 127.0.0.1 (Nginx proxy)
```

#### Launch Method
**Current:** –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ nohup
```bash
cd /root/skybuild_o1_production/backend
source .venv/bin/activate
nohup python -m uvicorn app.main:app \
  --host 0.0.0.0 \
  --port 8000 \
  > /var/log/skybuild-backend.log 2>&1 &
```

**Status:** ‚úÖ RUNNING
**Auto-restart:** ‚ùå NO (if crashes, needs manual restart)
**Monitoring:** ‚ùå NO systemd supervision

#### Systemd Service (Not Used)
```ini
File: /etc/systemd/system/skybuild-backend.service
Status: inactive (dead)
Enabled: yes (–¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞)

[Service]
ExecStart=/root/skybuild_o1_production/backend/.venv/bin/uvicorn \
  app.main:app --host 127.0.0.1 --port 8000
Restart=always
```

‚ö†Ô∏è **–ü—Ä–æ–±–ª–µ–º–∞:** –°–µ—Ä–≤–∏—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è. –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é.

### 4. **Database**

```
Type: PostgreSQL
Host: localhost:5432
Database: skybuild_pro
User: skybuild_user
Password: Bholenad8! (–≤ backend/.env)

Connection String:
  postgresql://skybuild_user:Bholenad8!@localhost/skybuild_pro

Status: ‚úÖ CONNECTED & WORKING

Current Data:
  - Users: 1 (admin@example.com)
  - Projects: ? (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
  - Jobs: ? (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
```

#### Schema Status
```sql
‚ö†Ô∏è OUTDATED SCHEMA

Table: users
  ‚úÖ id, email, hash, role, created_at
  ‚ùå full_name (MISSING)
  ‚ùå email_verified (MISSING)
  ‚ùå credits_balance (MISSING)

Missing Tables:
  ‚ùå email_verification_tokens
  ‚ùå templates
  ‚ùå template_items
  ‚ùå estimates
  ‚ùå estimate_items
  ‚ùå cost_adjustments

Action Required:
  Run migrations:
    python3 migrate_add_registration.py
    python3 migrate_add_templates_estimates.py
```

### 5. **Email Service**

```
Provider: SendGrid
Status: ‚úÖ CONFIGURED

SMTP Settings (in .env):
  SMTP_HOST: smtp.sendgrid.net
  SMTP_PORT: 587
  SMTP_USER: apikey
  SMTP_PASSWORD: SG.3-HKRVhrRj26tyZYyFJiEQ... (valid)
  SMTP_FROM_EMAIL: noreply@skybuildpro.co.uk
  SMTP_FROM_NAME: SkyBuild Pro

Email Templates:
  ‚úÖ Verification email (implemented)
  ‚úÖ Welcome email (implemented)

Testing Required: Send test email to verify
```

### 6. **File Storage**

```
Location: /root/skybuild_o1_production/backend/storage/

Structure:
  ‚îú‚îÄ‚îÄ uploads/        (user uploaded IFC/DWG/DXF files)
  ‚îú‚îÄ‚îÄ artifacts/      (generated BOQ exports)
  ‚îî‚îÄ‚îÄ config/         (mapping.yml, price lists)

Permissions: Check if backend process has write access
```

### 7. **Logging**

```
Backend Logs:
  Location: /var/log/skybuild-backend.log
  Status: ‚úÖ ACTIVE
  Recent Activity:
    - Multiple security scan attempts (404 on .env)
    - /healthz check: 200 OK
    - API working normally

Nginx Logs:
  Access: /var/log/nginx/access.log
  Error: /var/log/nginx/error.log

Log Rotation: Check if configured
```

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï

1. **DB Schema —É—Å—Ç–∞—Ä–µ–≤—à–∞—è**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–ª–æ–Ω–∫–∏ –¥–ª—è email verification –∏ credits
   –†–∏—Å–∫: Registration flow –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
   –†–µ—à–µ–Ω–∏–µ: –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
   –ö–æ–º–∞–Ω–¥–∞:
     cd /root/skybuild_o1_production/backend
     python3 migrate_add_registration.py
     python3 migrate_add_templates_estimates.py
   ```

2. **Backend –±–µ–∑ —Å—É–ø–µ—Ä–≤–∏–∑–æ—Ä–∞**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ nohup, –Ω–µ —á–µ—Ä–µ–∑ systemd
   –†–∏—Å–∫: –ü—Ä–∏ –∫—Ä—ç—à–µ –ø—Ä–æ—Ü–µ—Å—Å –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å systemd service
   –ö–æ–º–∞–Ω–¥–∞:
     # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å
     kill 873426
     # –ó–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ systemd
     sudo systemctl start skybuild-backend
     sudo systemctl status skybuild-backend
   ```

### üü° –í–ê–ñ–ù–´–ï

3. **Host binding –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ—Ü–µ—Å—Å —Å–ª—É—à–∞–µ—Ç 0.0.0.0, systemd –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ 127.0.0.1
   –†–∏—Å–∫: –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –Ω–∞ systemd –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å
   –†–µ—à–µ–Ω–∏–µ: –û–±–Ω–æ–≤–∏—Ç—å systemd service –Ω–∞ --host 0.0.0.0
   ```

4. **–ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è –ø—Ä–æ—Ü–µ—Å—Å–∞
   –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å systemd watchdog –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   ```

5. **Email –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: SendGrid –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
   –†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å email
   ```

### üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

6. **Log rotation**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: /var/log/skybuild-backend.log –º–æ–∂–µ—Ç –≤—ã—Ä–∞—Å—Ç–∏
   –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å logrotate
   ```

7. **Backup strategy**
   ```
   –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±—ç–∫–∞–ø–æ–≤ –ë–î
   –†–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron –¥–ª—è pg_dump
   ```

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ

```
‚úÖ SSL/HTTPS –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ
‚úÖ Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã
‚úÖ Backend API –æ—Ç–≤–µ—á–∞–µ—Ç
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
‚úÖ Credentials –≤—Å–µ –Ω–∞ –º–µ—Å—Ç–µ
‚úÖ –õ–æ–≥–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
‚úÖ File storage –¥–æ—Å—Ç—É–ø–µ–Ω
```

---

## üöÄ Quick Actions

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–∞–π—Ç
```bash
# Health check
curl http://localhost:8000/healthz
# Expected: {"ok":true}

# Check HTTPS
curl -I https://skybuildpro.co.uk
# Expected: 200 OK

# Check admin
curl -I https://admin.skybuildpro.co.uk
# Expected: 200 OK
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
# Backend logs (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 50 —Å—Ç—Ä–æ–∫)
tail -50 /var/log/skybuild-backend.log

# Nginx errors
sudo tail -20 /var/log/nginx/error.log

# Follow backend logs –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f /var/log/skybuild-backend.log
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# –ù–∞–π—Ç–∏ PID
ps aux | grep uvicorn

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
kill 873426

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
cd /root/skybuild_o1_production/backend
source .venv/bin/activate
nohup python -m uvicorn app.main:app \
  --host 0.0.0.0 --port 8000 \
  > /var/log/skybuild-backend.log 2>&1 &

# –ò–ª–∏ —á–µ—Ä–µ–∑ systemd (–ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –Ω–µ–≥–æ)
sudo systemctl restart skybuild-backend
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
PGPASSWORD='Bholenad8!' psql -h localhost -U skybuild_user -d skybuild_pro

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
\dt

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT id, email, role, created_at FROM users;

# –í—ã–π—Ç–∏
\q
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ (–Ω–∞ –º–æ–º–µ–Ω—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)

```
Uptime Backend: 1+ –¥–µ–Ω—å (—Å Oct 25)
Active Connections: –†–∞–±–æ—Ç–∞–µ—Ç
Memory Usage: ~168 MB
CPU Time: 1h 51m
Database Size: ? (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
Number of Users: 1
Number of Projects: ? (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
Number of Jobs: ? (–Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞)
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-26 18:15 UTC  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** –ü–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞  
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ registration flow

